<!DOCTYPE html>
<html lang="en">

<head><link rel="stylesheet" type="text/css" href="http://www.taniarascia.com/wp-content/cache/minify/000000/M9DPT8pJLEnVTy4u1i8uqcxJ1cvNzAMA.css" media="all" />

	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="author" content="Tania Rascia">
	<meta name="description" content=" &raquo; Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts - Tutorials by Tania Rascia ">
	<meta name="viewport" content="width=device-width, initial-scale=1">


		<title>Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts &#8211; Tania Rascia</title>
<link rel="alternate" type="application/rss+xml" title="Tania Rascia &raquo; Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts Comments Feed" href="http://www.taniarascia.com/wordpress-from-scratch-part-two/feed/" />

<link rel='stylesheet' id='OpenSans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A400%2C600%2C700%2C800&#038;ver=4.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='NotoSerif-css'  href='//fonts.googleapis.com/css?family=Noto+Serif%3A400%2C700&#038;ver=4.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='RobotoMono-css'  href='//fonts.googleapis.com/css?family=Roboto+Mono%3A400%2C300%2C500%2C700&#038;ver=4.4.1' type='text/css' media='all' />
<link rel='https://api.w.org/' href='http://www.taniarascia.com/wp-json/' />
<link rel='prev' title='Getting Started with AWS &#8211; Setting Up a Virtual Server' href='http://www.taniarascia.com/getting-started-with-aws-setting-up-a-virtual-server/' />
<meta name="generator" content="WordPress 4.4.1" />
<link rel="canonical" href="http://www.taniarascia.com/wordpress-from-scratch-part-two/" />
<link rel='shortlink' href='http://www.taniarascia.com/?p=1308' />
<link rel="alternate" type="application/json+oembed" href="http://www.taniarascia.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.taniarascia.com%2Fwordpress-from-scratch-part-two%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.taniarascia.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.taniarascia.com%2Fwordpress-from-scratch-part-two%2F&#038;format=xml" />

		<script>
			(function(i, s, o, g, r, a, m) {
				i['GoogleAnalyticsObject'] = r;
				i[r] = i[r] || function() {
					(i[r].q = i[r].q || []).push(arguments)
				}, i[r].l = 1 * new Date();
				a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
				a.async = 1;
				a.src = g;
				m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

			ga('create', 'UA-42068444-1', 'auto');
			ga('send', 'pageview');

		</script>

</head>

<body>
	<header>
		<div class="flex vertical">
			<div class="box one-fourth">
				<a href="http://www.taniarascia.com"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/tr.png" class="logo-image" alt="Tania Rascia"></a>
			</div>
			<div class="box three-fourths social">
				<a href="https://taniarascia.github.io/new-moon"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/newmoon.png" class="darken" alt="New Moon Syntax Theme"></a>&nbsp;
				<a href="https://twitter.com/taniarascia"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/twitter.png" class="darken" alt="Twitter"></a>&nbsp;
				<a href="https://github.com/taniarascia"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/github-dark.png" class="darken" alt="GitHub"></a>&nbsp;
				<a href="http://www.taniarascia.com/feed"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/rss.png" class="darken" alt="RSS Feed"></a>
			</div>
		</div>
	</header>
	<main>
		<article id="post-1308" class="single-article">
	<div class="article-header center">
				<img src="http://www.taniarascia.com/wp-content/uploads/wp-1-150x150.png" class="article-image" alt="Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts">		<h2>Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts</h2>
		<time datetime="2016-01-14">
			January 14, 2016		</time>
		&nbsp;☍&nbsp;<span class="tags"><a href="http://www.taniarascia.com/tag/cms/" rel="tag">cms</a>, <a href="http://www.taniarascia.com/tag/wordpress/" rel="tag">wordpress</a>	</div>
	<p>In part one of the tutorial series <a href="http://www.taniarascia.com/developing-a-wordpress-theme-from-scratch/">Developing a WordPress Theme From Scratch</a>, we learned what WordPress is, what it can do, and how to do the following:</p>
<ul>
<li>Set up a local <strong>Apache, MySQL, PHP</strong> (*AMP) environment</li>
<li>Install WordPress on your local server</li>
<li>Take an existing static HTML &#038; CSS site and make it into a custom WordPress theme</li>
<li>Divide your theme into sections (<code>index.php</code>, <code>header.php</code>, <code>footer.php</code>, <code>sidebar.php</code>, and <code>content.php</code>)</li>
<li>Use The Loop to make <strong>posts</strong> and <strong>pages</strong></li>
<li>Migrate local WordPress site to a live server</li>
</ul>
<p>We created this theme using <a href="http://getbootstrap.com">Bootstrap</a>, and more specifically the official <a href="https://getbootstrap.com/examples/blog/">generic blog template</a>. While the theme could use custom CSS or any framework, I went with Bootstrap so that we can focus on creating the theme&#8217;s function without worrying about the style.</p>
<p>Here is what the theme looked like at the end of the last article:</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2015-12-16-at-8.02.45-PM.png"></p>
<p>Very simple, but it effectively demonstrates how to use the WordPress Loop to display content dynamically.</p>
<p>In this article, we&#8217;re going to go through more essential WordPress theming techniques.</p>
<h4>Prerequisites</h4>
<ul>
<li>Basic knowledge of HTML and CSS</li>
<li>Ability set up WordPress and make a basic theme (<a href="http://www.taniarascia.com/developing-a-wordpress-theme-from-scratch/">covered in part one</a>)</li>
</ul>
<h4>Goals</h4>
<ul>
<li>Create individual post pages &#8211; <code>single.php</code></li>
<li>Add pagination</li>
<li>Include comments</li>
<li>Learn how to use <code>functions.php</code></li>
<li>Properly enqueue stylesheets and scripts</li>
<li>Create global custom fields</li>
<li>Create custom post types</li>
</ul>
<p>First, I&#8217;m going to start off by adding individual blog posts and pagination.</p>
<p><span id="more-1308"></span></p>
<h3>Individual Post Pages</h3>
<p>In the last article, we made header, footer, sidebar, content, and page files. Now we&#8217;re going to make <strong>single.php</strong>, which is an individual post page. It&#8217;s going to be an exact duplicate of <strong>page.php</strong>, except I&#8217;m going to change <code>'content'</code> to <code>'content-single'</code>.</p>
<pre><code class="language-php">&lt;?php get_header(); ?&gt;

	&lt;div class="row"&gt;
		&lt;div class="col-sm-12"&gt;

			&lt;?php 
				if ( have_posts() ) : while ( have_posts() ) : the_post();
					get_template_part( 'content-single', get_post_format() );
				endwhile; endif; 
			?&gt;

		&lt;/div&gt; &lt;!-- /.col --&gt;
	&lt;/div&gt; &lt;!-- /.row --&gt;

&lt;?php get_footer(); ?&gt;</code></pre>
<p>Now you&#8217;ll create <strong>content-single.php</strong>, which is a duplicate of <strong>content.php</strong>.</p>
<pre><code class="language-php">&lt;div class="blog-post"&gt;
	&lt;h2 class="blog-post-title"&gt;&lt;?php the_title(); ?&gt;&lt;/h2&gt;
	&lt;p class="blog-post-meta"&gt;&lt;?php the_date(); ?&gt; by &lt;a href="#"&gt;&lt;?php the_author(); ?&gt;&lt;/a&gt;&lt;/p&gt;
 &lt;?php the_content(); ?&gt;
&lt;/div&gt;&lt;!-- /.blog-post --&gt;</code></pre>
<p>So now you can see that <strong>index.php</strong> is pulling in <strong>content.php</strong>, and <strong>single.php</strong> is pulling in <strong>content-single.php</strong>. </p>
<p>Going back to the original <strong>content.php</strong>, we have the title of each article.</p>
<pre><code class="language-php">&lt;h2 class="blog-post-title"&gt;&lt;?php the_title(); ?&lt;/h2&gt;</code></pre>
<p>Using <code>the_permalink()</code>, we&#8217;re going to link to the single page.</p>
<pre><code class="language-php">&lt;h2 class="blog-post-title"&gt;&lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/h2&gt;</code></pre>
<p>Now you have a blog posts on the main page that are linking individual blog post page.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-13-at-9.50.32-PM.png"></p>
<p>Finally, we&#8217;ll want to change <code>the_content()</code> to <code>the_excerpt()</code> on <strong>content.php</strong>. The excerpt will only show the first 55 words of your post, instead of the entire contents.</p>
<pre><code class="language-php">&lt;?php the_excerpt(); ?&gt;</code></pre>
<h3>Pagination</h3>
<p><a href="http://getbootstrap.com/examples/blog/" target="_blank">In the original Bootstrap blog example</a>, there is pagination to be able to click through multiple pages if you have many blog posts.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-13-at-9.57.49-PM.png"></p>
<p>Currently, your <strong>index.php</strong> file looks like this.</p>
<pre><code class="language-php">&lt;?php get_header(); ?&gt;

	&lt;div class="row"&gt;
		&lt;div class="col-sm-8 blog-main"&gt;

			&lt;?php 
			if ( have_posts() ) : while ( have_posts() ) : the_post();
				get_template_part( 'content', get_post_format() );
			endwhile; endif; ?&gt;

		&lt;/div&gt;	&lt;!-- /.blog-main --&gt;
		&lt;?php get_sidebar(); ?&gt;
	&lt;/div&gt; 	&lt;!-- /.row --&gt;

&lt;?php get_footer(); ?&gt;</code></pre>
<p>If you&#8217;ll notice, the loop has <code>if</code> and <code>while</code>, then later <code>endif</code> and <code>endwhile</code>. To insert pagination, we&#8217;ll have to put it after the <code>endwhile</code> but before the <code>endif</code>. This means that it won&#8217;t repeat for each loop, but will only show up once based on posts.</p>
<p><a href="https://codex.wordpress.org/Pagination" target="_blank">Pagination</a> links are called like this:</p>
<pre><code class="language-php">&lt;?php next_posts_link( 'Older posts' ); ?&gt;
&lt;?php previous_posts_link( 'Newer posts' ); ?&gt;</code></pre>
<p>In <strong>index.php</strong>, between <code>endwhile;</code> and <code>endif;</code>, I&#8217;m going to place this code.</p>
<pre><code class="language-php">&lt;nav&gt;
	&lt;ul class="pager"&gt;
		&lt;li&gt;&lt;?php next_posts_link( 'Previous' ); ?&gt;&lt;/li&gt;
		&lt;li&gt;&lt;?php previous_posts_link( 'Next' ); ?&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/nav&gt;</code></pre>
<p>By default, 10 posts will show up on a page before it will link to another page. For testing purposes, I&#8217;m going to go to <strong>Settings > Reading</strong> and change <strong>Blog pages show at most</strong> to 1.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-13-at-10.43.46-PM.png"></p>
<p>Now we have functioning pagination.</p>
<h3>Comments</h3>
<p>One of the biggest advantages WordPress and server based content management systems have over static site generators is the ability to include comments without using a third party. (However, static site generators have many more advantages &#8211; <a href="http://www.taniarascia.com/make-a-static-website-with-jekyll/">I have an article on setting up Jekyll</a> if you&#8217;re interested in learning how to use them.)</p>
<p>Comments seem complicated to set up, but it doesn&#8217;t have to be hard at all. First, we&#8217;re going to go back to <strong>single.php</strong> and enable the comments.</p>
<p>Right now, the code looks like this.</p>
<pre><code class="language-php">if ( have_posts() ) : while ( have_posts() ) : the_post();
	get_template_part( 'content-single', get_post_format() );
endwhile; endif; </code></pre>
<p>We&#8217;re going to change it to look like this.</p>
<pre><code class="language-php">if ( have_posts() ) : while ( have_posts() ) : the_post();
	get_template_part( 'content-single', get_post_format() );

	if ( comments_open() || get_comments_number() ) :
	  comments_template();
	endif;

endwhile; endif; </code></pre>
<p>This is just telling the single post to display the comments template. Now we&#8217;ll create <strong>comments.php</strong>.</p>
<pre><code class="language-php">&lt;?php if ( post_password_required() ) {
	return;
} ?&gt;
	&lt;div id="comments" class="comments-area"&gt;
		&lt;?php if ( have_comments() ) : ?&gt;
			&lt;h3 class="comments-title"&gt;
				&lt;?php
				printf( _nx( 'One comment on &ldquo;%2$s&rdquo;', '%1$s comments on &ldquo;%2$s&rdquo;', get_comments_number(), 'comments title'),
					number_format_i18n( get_comments_number() ), get_the_title() );
				?&gt;
			&lt;/h3&gt;
			&lt;ul class="comment-list"&gt;
				&lt;?php 
				wp_list_comments( array(
					'short_ping'  =&gt; true,
					'avatar_size' =&gt; 50,
				) );
				?&gt;
			&lt;/ul&gt;
		&lt;?php endif; ?&gt;
		&lt;?php if ( ! comments_open() &amp;&amp; get_comments_number() &amp;&amp; post_type_supports( get_post_type(), 'comments' ) ) : ?&gt;
			&lt;p class="no-comments"&gt;
				&lt;?php _e( 'Comments are closed.' ); ?&gt;
			&lt;/p&gt;
		&lt;?php endif; ?&gt;
		&lt;?php comment_form(); ?&gt;
	&lt;/div&gt;</code></pre>
<p>Comments are not the simplest part of WordPress theming, but I&#8217;ve managed to reduce it down to a small enough code block. </p>
<p>First, we&#8217;re setting functionality to prevent users from posting comments if you&#8217;ve set your settings to password protected comments (<code>post_password_required()</code>). Then we&#8217;re creating a comments div, and if there are comments (<code>have_comments()</code>), it will display how many comments there are on the post (<code>get_comments_number()</code>), followed by the list of comments (<code>wp_list_comments()</code>). If the comments are closed (<code>! comments_open()</code>), it will let you know; at the end will be the form to submit a comment (<code>comment_form()</code>).</p>
<p>Without adding any styles, here is how the functioning single blog post looks.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-13-at-11.29.06-PM.png"></p>
<p>Obviously the styles aren&#8217;t quite there yet, but I don&#8217;t want to focus on that in this article. Remove the <code>list-style</code> on the <code>ul</code>s, add some padding and margins and possibly some borders and background colors, and you&#8217;ll have a much prettier comment setup. </p>
<p>Of course, you might want to show how many comments there are or link to the comments from the main page. You can do that with this code inserted into <strong>content.php</strong>.</p>
<pre><code class="language-php">&lt;a href="&lt;?php comments_link(); ?&gt;"&gt;
	&lt;?php
	printf( _nx( 'One Comment', '%1$s Comments', get_comments_number(), 'comments title', 'textdomain' ), number_format_i18n( 						get_comments_number() ) ); ?&gt;
&lt;/a&gt;</code></pre>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-13-at-11.59.43-PM.png"></p>
<p>Now that we have pagination, blog posts, and comments set up, we can move on to functions.</p>
<h3>Using and Understanding the WordPress Functions File</h3>
<p>Located in your theme directory, you can create a file called <a href="https://codex.wordpress.org/Functions_File_Explained">functions.php</a>. You can use <code>functions.php</code> to add functionality and change defaults throughout WordPress. Plugins and custom functions are basically the same &#8211; any code you create can be made into a plugin, and vice versa. The only difference is that anything you place in your theme&#8217;s functions is only applied while that theme is actively selected.</p>
<blockquote class="info"><p>I have a <a href="https://github.com/taniarascia/wp-functions" target="_blank">README on GitHub of useful WordPress functions</a>, which might come in handy the more you use them.</p></blockquote>
<p><code>functions.php</code> seems complicated, but it&#8217;s mostly made up of a bunch of code blocks that, simplified, look like this:</p>
<pre><code class="language-php">function custom_function() {
	//code
}
add_action( 'action', 'custom_function');</code></pre>
<p>So, we&#8217;re creating our custom function, and adding it in based on <a href="https://codex.wordpress.org/Plugin_API/Action_Reference">action references</a>. Within this file, you can pretty much change or override anything in WordPress.</p>
<p>Let&#8217;s go ahead and make <code>functions.php</code> and place it in our theme directory.</p>
<p>Since it&#8217;s a PHP file, it needs to be begin with the opening PHP tag. It doesn&#8217;t need a closing tag; pure PHP files don&#8217;t need closing tags.</p>
<pre><code class="language-php">&lt;?php</code></pre>
<blockquote class="info"><p>Eventually, you can insert these types of functions into your own custom plugin that can be used across many themes, but for now we&#8217;ll learn how to do it in the theme specific file.</p></blockquote>
<h3>Enqueue Scripts and Stylesheets</h3>
<p>By the end of the last article, I was incorrectly linking to my CSS and JavaScript in the header and footer, respectively. This should be done through the functions file.</p>
<p>I&#8217;m going to make <code>css</code>, <code>js</code> and <code>images</code> directories in the root of my theme. So here&#8217;s what I have:</p>
<ul style="font-family:'Roboto Mono', monospace">
<li><b>css</b>
<ul>
<li>bootstrap.min.css</li>
<li>blog.css</li>
</ul>
</li>
<li><b>js</b>
<ul>
<li>bootstrap.min.js</li>
</ul>
</ul>
<p>Now here&#8217;s the first code block we&#8217;re going to put in <code>functions.php</code>:</p>
<pre><code class="language-php">// Add scripts and stylesheets
function startwordpress_scripts() {
	wp_enqueue_style( 'bootstrap', get_template_directory_uri() . '/css/bootstrap.min.css', array(), '3.3.6' );
	wp_enqueue_style( 'blog', get_template_directory_uri() . '/css/blog.css' );
	wp_enqueue_script( 'bootstrap', get_template_directory_uri() . '/js/bootstrap.min.js', array('jquery'), '3.3.6', true );
}

add_action( 'wp_enqueue_scripts', 'startwordpress_scripts' );</code></pre>
<p>In order for these to properly be inserted into your theme, <code>&lt;?php wp_head(); ?&gt;</code> needs to be placed before the closing <code>&lt;/head&gt;</code> tag, and <?php wp_footer(); ?> before the closing <code>&lt;/body&gt;</code> tag.</p>
<p>By common WordPress convention, I&#8217;m naming my script after my theme (<code>startwordpress_scripts()</code>). <code>wp_enqueue_style</code> is for inserting CSS, and <code>wp_enqueue_script</code> for JS. After that, the array contains the ID, location of the file, an additional array with required depenedencies (such as jQuery), and the version number.</p>
<p>Now we have jQuery, Bootstrap CSS, Bootstrap JS, and custom CSS being properly loaded into the website.</p>
<h3>Enqueue Google Fonts</h3>
<p>The function to include the Google Fonts stylesheets is slightly different, based on the dynamic nature of the URL. Here is an example using <strong>Open Sans</strong>.</p>
<pre><code class="language-php">// Add Google Fonts
function startwordpress_google_fonts() {
				wp_register_style('OpenSans', 'http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800');
				wp_enqueue_style( 'OpenSans');
		}

add_action('wp_print_styles', 'startwordpress_google_fonts');</code></pre>
<p>Now I have <a href="https://www.google.com/fonts/specimen/Open+Sans" target="_blank">Open Sans by Google Fonts</a> linked in my page.</p>
<h3>Fix the WordPress Title</h3>
<p>If you&#8217;ll notice, we&#8217;re currently pulling in the title for the website with this code.</p>
<pre><code class="language-php">&lt;title&gt;&lt;?php echo get_bloginfo( 'name' ); ?&gt;&lt;/title&gt;</code></pre>
<p>This is not very intuitive &#8211; it means that whatever you have set as your website&#8217;s title will be the title tag for every page. However, we&#8217;re going to want each individual page to show the title of the article first, and also include a reference to the main site title.</p>
<p>Introduced in WordPress 4.1 is the ability to simply have WordPress take care of the title tag in an intuitive way. Simply remove the <code>title</code> tag from your <b>header.php</b> entirely, and in <strong>functions.php</strong>, add this code block.</p>
<pre><code class="language-php">// WordPress Titles
add_theme_support( 'title-tag' );</code></pre>
<h3>Create Global Custom Fields</h3>
<p>Sometimes, you might have custom settings that you want to be able to set globally. An easy example on this page is the social media links on the sidebar. </p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-12.28.45-AM.png"></p>
<p>Right now these links aren&#8217;t leading anywhere, but we want to be able to edit it through the admin panel. The source of this code is modified from <a href="http://www.sitepoint.com/create-a-wordpress-theme-settings-page-with-the-settings-api/" target="_blank">this Settings API tutorial</a>.</p>
<p>First, we&#8217;re going to add a section on the left hand menu called <strong>Custom Settings</strong>.</p>
<pre><code class="language-php">// Custom settings
function custom_settings_add_menu() {
  add_menu_page( 'Custom Settings', 'Custom Settings', 'manage_options', 'custom-settings', 'custom_settings_page', null, 99);
}
add_action( 'admin_menu', 'custom_settings_add_menu' );</code></pre>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-12.37.57-AM.png"></p>
<p>Then we&#8217;re going to create a basic page.</p>
<pre><code class="language-php">// Create Custom Global Settings
function custom_settings_page() { ?&gt;
  &lt;div class="wrap"&gt;
    &lt;h1&gt;Custom Settings&lt;/h1&gt;
    &lt;form method="post" action="options.php"&gt;
       &lt;?php
           settings_fields('section');
           do_settings_sections('theme-options');      
           submit_button(); 
       ?&gt;          
    &lt;/form&gt;
  &lt;/div&gt;
&lt;?php }</code></pre>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-12.41.13-AM.png"></p>
<p>The code contains a form posting to <strong>options.php</strong>, a section and theme-options, and a submit button.</p>
<p>Now we&#8217;re going to create an input field for Twitter.</p>
<pre><code class="language-php">// Twitter
function setting_twitter() { ?&gt;
  &lt;input type="text" name="twitter" id="twitter" value="&lt;?php echo get_option('twitter'); ?&gt;" /&gt;
&lt;?php }</code></pre>
<p>Finally, we&#8217;re going to set up the page to show, accept and save the option fields.</p>
<pre><code class="language-php">function custom_settings_page_setup() {
  add_settings_section('section', 'All Settings', null, 'theme-options');
  add_settings_field('twitter', 'Twitter URL', 'setting_twitter', 'theme-options', 'section');

  register_setting('section', 'twitter');
}
add_action( 'admin_init', 'custom_settings_page_setup' );</code></pre>
<p>Now I&#8217;ve saved my Twitter URL in the field.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-12.51.48-AM.png"></p>
<p>For good measure, I&#8217;m going to add another example, this time for GitHub.</p>
<pre><code class="language-php">function setting_github() { ?&gt;
  &lt;input type="text" name="github" id="github" value="&lt;?php echo get_option('github'); ?&gt;" /&gt;
&lt;?php }</code></pre>
<p>Now you&#8217;ll just duplicate the fields in <code>custom_settings_page_setup</code>.</p>
<pre><code class="language-php">  add_settings_field('twitter', 'Twitter URL', 'setting_twitter', 'theme-options', 'section');
  add_settings_field('github', 'GitHub URL', 'setting_github', 'theme-options', 'section');
  
	register_setting('section', 'twitter');
  register_setting('section', 'github');</code></pre>
<p>Now back in <strong>sidebar.php</strong>, I&#8217;m going to change the links from this:</p>
<pre><code class="language-php">&lt;li&gt;&lt;a href="#"&gt;GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#"&gt;Twitter&lt;/a&gt;&lt;/li&gt;</code></pre>
<p>To this:</p>
<pre><code class="language-php">&lt;li&gt;&lt;a href="&lt;?php echo get_option('github'); ?&gt;"&gt;GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="&lt;?php echo get_option('twitter'); ?&gt;"&gt;Twitter&lt;/a&gt;&lt;/li&gt;</code></pre>
<p>And now the URLs are being dynamically generated from the custom settings panel!</p>
<h3>Featured Image</h3>
<p>You might want to have a featured image for each blog post. This functionality is not built into the WordPress core, but is extremely easy to implement. Place this code in your <strong>functions.php</strong>.</p>
<pre><code class="language-php">// Support Featured Images
add_theme_support( 'post-thumbnails' );</code></pre>
<p>Now you&#8217;ll see an area where you can upload an image on each blog post.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-1.24.12-AM.png"></p>
<p>I&#8217;m just going to upload something I drew in there for an example. Now, display the image in <strong>content-single.php</strong>.</p>
<pre><code class="language-php">&lt;?php if ( has_post_thumbnail() ) {
  the_post_thumbnail();
} ?&gt;</code></pre>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-1.31.37-AM.png"></p>
<p>Now you have an image on your individual post pages! If you wanted the thumbnail to show up on on the main blog page as well, you could do something like this on <strong>content.php</strong> to split the page if a thumbnail is present:</p>
<pre><code class="language-php">&lt;?php if ( has_post_thumbnail() ) {?&gt;
	&lt;div class="row"&gt;
		&lt;div class="col-md-4"&gt;
			&lt;?php	the_post_thumbnail('thumbnail'); ?&gt;
		&lt;/div&gt;
		&lt;div class="col-md-6"&gt;
			&lt;?php the_excerpt(); ?&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;?php } else { ?&gt;
	&lt;?php the_excerpt(); ?&gt;
	&lt;?php } ?&gt;</code></pre>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-1.38.44-AM.png"></p>
<h3>Custom Post Types</h3>
<p>One of the most versatile way to extend your WordPress site as a full blown content management system is with custom post types. A custom post type is the same as <strong>Posts</strong>, except you can add as many of them as you want, and with as much custom functionality as you want.</p>
<p>If you&#8217;re interested in using plugins, you can download the <a href="http://www.advancedcustomfields.com/" target="_blank">Advanced Custom Fields</a> plugin, which will add a great deal of customizability to your theme with little effort.</p>
<p>For now, I&#8217;m going to show you how to set up a simple custom post type, and call the post in it&#8217;s own loop. There is much more that can be done with custom post types, but that&#8217;s a bit more complicated and deserves an article all of its own.</p>
<p><a href="https://codex.wordpress.org/Post_Types">Custom Post Types</a> on the WordPress codex will also give you more insight on some of the possibilities available.</p>
<p>In <strong>functions.php</strong>, I&#8217;m going to create the custom post type called <strong>My Custom Post</strong>.</p>
<pre><code class="language-php">// Custom Post Type
function create_my_custom_post() {
	register_post_type('my-custom-post',
			array(
			'labels' =&gt; array(
					'name' =&gt; __('My Custom Post'),
					'singular_name' =&gt; __('My Custom Post'),
			),
			'public' =&gt; true,
			'has_archive' =&gt; true,
			'supports' =&gt; array(
					'title',
					'editor',
					'thumbnail',
				  'custom-fields'
			)
	));
}
add_action('init', 'create_my_custom_post');</code></pre>
<p>In the <strong>create_my_custom_post()</strong>, I&#8217;ve created a post called <strong>My Custom Post</strong> with a slug of <code>my-custom-post</code>. If my original URL was <u>example.com</u>, the custom post type would appear at <u>example.com/my-custom-post</u>.</p>
<p>In <code>supports</code>, you can see what I&#8217;m adding &#8211; title, editor, thumbnail, and custom fields. These translate to the fields on the back end that will be available. </p>
<ul>
<li><code>title</code> is the title field that I call with <code>&lt;?php the_title(); ?&gt;</code>.</li>
<li><code>editor</code> is the content editing area that I call with <code>&lt;?php the_content(); ?&gt;</code>.</li>
<li><code>thumbnail</code> is the featured image that I call with <code>&lt;?php the_post_thumbnail(); ?&gt;</code>.</li>
<li><code>custom-fields</code> are custom fields that I can add in and call later.</li>
</ul>
<p>I&#8217;ve decided I&#8217;m going to make a new page for the custom post to loop in. I created a page called <strong>Custom</strong>, which will appear at <u>example.com/custom</u>. Right now, my page is pulling from <strong>page.php</strong>, like all the other pages.</p>
<p>I&#8217;m going to create <strong>page-custom.php</strong>, and copy the code over from <strong>page.php</strong>. According to the <a href="https://developer.wordpress.org/themes/basics/template-hierarchy/" target="_blank">WordPress template hierarchy</a>, a <strong>page-name.php</strong> will override <strong>page.php</strong>.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-2.17.20-AM.png"></p>
<p>The original loop we used looked like this:</p>
<pre><code class="language-php">if ( have_posts() ) : while ( have_posts() ) : the_post();
	// Contents of the Loop
endwhile; endif; </code></pre>
<p>A custom post type loop will look like this:</p>
<pre><code class="language-php">$custom_query = new WP_Query( $args );
while ($custom_query-&gt;have_posts()) : $custom_query-&gt;the_post();
  // Contents of the custom Loop
endwhile;
</code></pre>
<p>Note that this only a <code>while</code>, and does not have an <code>if</code> or <code>endif</code>.</p>
<p>I&#8217;ll have to define the <code>$args</code> or arguments, before the loop.</p>
<pre><code class="language-php">$args =  array( 
	'post_type' =&gt; 'my-custom-post',
	'orderby' =&gt; 'menu_order',
	'order' =&gt; 'ASC'
);</code></pre>
<p>Here I&#8217;m defining the post type as <code>my-custom-post</code>, and ordering the posts in ascending order.</p>
<p>So here&#8217;s the entire code for <strong>page-custom.php</strong>.</p>
<pre><code class="language-php">&lt;?php get_header(); ?&gt;

	&lt;div class="row"&gt;
		&lt;div class="col-sm-12"&gt;

			&lt;?php 
				$args =  array( 
					'post_type' =&gt; 'my-custom-post',
					'orderby' =&gt; 'menu_order',
					'order' =&gt; 'ASC'
				);
				 $custom_query = new WP_Query( $args );
            while ($custom_query-&gt;have_posts()) : $custom_query-&gt;the_post(); ?&gt;

				&lt;div class="blog-post"&gt;
					&lt;h2 class="blog-post-title"&gt;&lt;a href="&lt;?php the_permalink(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/h2&gt;
					&lt;?php the_excerpt(); ?&gt;
				&lt;/div&gt;

				&lt;?php endwhile; ?&gt;
		&lt;/div&gt; &lt;!-- /.col --&gt;
	&lt;/div&gt; &lt;!-- /.row --&gt;

	&lt;?php get_footer(); ?&gt;
</code></pre>
<p>Now <u>example.com/custom</u> will only pull in posts from the custom post type we created. Right now, the custom post type is set up to only do things that the normal posts can do, but the more you fall down the rabbit hole, the more possibilities you discover.</p>
<p><img src="http://www.taniarascia.com/wp-content/uploads/Screen-Shot-2016-01-14-at-2.53.29-AM.png"></p>
<h3>Conclusion</h3>
<p>We covered a lot of ground in this article; you should now be able to&#8230;</p>
<ul>
<li>Create individual pages for blog posts</li>
<li>Add pagination to a blog</li>
<li>Add comments to a blog</li>
<li>Add WordPress functions</li>
<li>Enqueue scripts and stylesheets properly</li>
<li>Have a proper page title</li>
<li>Create custom global settings</li>
<li>Create a custom post type</li>
</ul>
<p>All the source code is <a href="https://github.com/taniarascia/startwordpress">on GitHub</a> as always. You can download the code and upload it into your themes folder and see it in action. I might set up a demo if there&#8217;s any interest in that.</p>
<p>There is much more that custom post types can do &#8211; and much more that WordPress can do, as well. I haven&#8217;t touched on <a href="https://codex.wordpress.org/Theme_Customization_API" target="_blank">the theme customizer</a>, which is the most current way of creating themes.</p>
<p>I plan to continue this WordPress series and expand upon custom post types and what they can do. For now, I hope you learned something new, and of course, please feel free to reach out if I made any mistakes or errors or included any wrong or outdated information.</p>
<p><a href="https://github.com/taniarascia/startwordpress" class="button">View on GitHub</a></p>
		<div class="alert">
			<a href="http://twitter.com/intent/tweet?text=Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts&url=http://www.taniarascia.com/wordpress-from-scratch-part-two/&via=taniarascia" target="_blank" title="Share to Twitter" class="block"><img src="http://www.taniarascia.com/wp-content/themes/oblate/images/twitter.png" class="block-i" alt="Share this article"> Share this article!</a>
		</div>
</article>
	<div id="comments" class="comments-area">

					<h3 class="comments-title">
			11 comments on &ldquo;Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &#038; Custom Posts&rdquo;		</h3>
			<ul class="comment-list">
						<li id="comment-338" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://katzamsack.de/collective-202/' rel='external nofollow' class='url'>Collective #202 &raquo; CSS 3 &amp; HTML 5 Links und Infos</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-339" class="pingback odd alt thread-odd thread-alt depth-1">
			<div class="comment-body">
				Pingback: <a href='http://p2html.com/blog/collective-202/' rel='external nofollow' class='url'>Collective #202 | Tech +</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-340" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://www.itdadao.com/article/224142/' rel='external nofollow' class='url'>Collective #202-IT??</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-343" class="pingback odd alt thread-odd thread-alt depth-1">
			<div class="comment-body">
				Pingback: <a href='http://freakinthecage.de/wp-blog/webdesign-freebies-tips-tricks/developing-a-wordpress-theme-from-scratch-part-2-pagination-comments-single-post-functions-custom-posts-tania-rascia/' rel='external nofollow' class='url'>Developing a WordPress Theme from Scratch Part 2: Pagination, Comments, Single Post, Functions, &amp; Custom Posts | Tania Rascia - Freakinthecage Webdesign Stuttgart - Der Blog</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-344" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://www.danielemilana.it/blog/collective-202/' rel='external nofollow' class='url'>Collective #202 - ADD_DanieleMilana</a> 			</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-345">
				<div id="div-comment-345" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bill</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.taniarascia.com/wordpress-from-scratch-part-two/#comment-345">
			January 18, 2016 at 5:22 pm</a>		</div>

		<p>Thank you so much for this article. It really helps a lot! I&#8217;ve been struggling with wordpress for months and this is the best tutorial I&#8217;ve read so far.</p>
<p>I really hope you&#8217;ll continue this up to one of the core functionalities of wordpress &#8211; the online shop. Even just the basic. Thank you <img src="http://www.taniarascia.com/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='http://www.taniarascia.com/wordpress-from-scratch-part-two/?replytocom=345#respond' onclick='return addComment.moveForm( "div-comment-345", "345", "respond", "1308" )' aria-label='Reply to bill'>Reply</a></div>
				</div>
		<ul class="children">
		<li class="comment byuser comment-author-hi-tania bypostauthor even depth-2" id="comment-346">
				<div id="div-comment-346" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.taniarascia.com' rel='external nofollow' class='url'>Tania</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.taniarascia.com/wordpress-from-scratch-part-two/#comment-346">
			January 18, 2016 at 7:39 pm</a>		</div>

		<p>Hi Bill,</p>
<p>I&#8217;m glad you enjoyed the article! As far as e-commerce with WordPress goes, I believe using the <a href="https://www.woothemes.com/woocommerce/" rel="nofollow">Woocommerce</a> plugin is the way to go.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='http://www.taniarascia.com/wordpress-from-scratch-part-two/?replytocom=346#respond' onclick='return addComment.moveForm( "div-comment-346", "346", "respond", "1308" )' aria-label='Reply to Tania'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-351" class="pingback odd alt thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://giveupinternet.com/answers/tutorial-for-wordpress-comments-pagination-single-blog-pages-functions-global-settings-custom-post-types-without-plugins/' rel='external nofollow' class='url'>Tutorial for WordPress Comments, Pagination, Single Blog Pages, Functions, Global Settings, &amp; Custom Post Types (without plugins) &#8211; Internet and Tecnnology Answers for Geeks</a> 			</div>
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-354">
				<div id="div-comment-354" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://senlinonline.com' rel='external nofollow' class='url'>Piet</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.taniarascia.com/wordpress-from-scratch-part-two/#comment-354">
			January 20, 2016 at 2:30 am</a>		</div>

		<p>Not sure you follow current developments of WordPress, but your recommendation on altering the title tag in the header.php file is becoming deprecated.</p>
<p>You should remove everything to do with title from the head section and instead add add_theme_support( &#8216;title-tag&#8217; ); to the theme&#8217;s functions.php file.</p>
<p>Since WP 4.1: <a href="https://codex.wordpress.org/Title_Tag" rel="nofollow">https://codex.wordpress.org/Title_Tag</a></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='http://www.taniarascia.com/wordpress-from-scratch-part-two/?replytocom=354#respond' onclick='return addComment.moveForm( "div-comment-354", "354", "respond", "1308" )' aria-label='Reply to Piet'>Reply</a></div>
				</div>
		<ul class="children">
		<li class="comment byuser comment-author-hi-tania bypostauthor odd alt depth-2" id="comment-358">
				<div id="div-comment-358" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.taniarascia.com' rel='external nofollow' class='url'>Tania</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.taniarascia.com/wordpress-from-scratch-part-two/#comment-358">
			January 20, 2016 at 8:39 am</a>		</div>

		<p>I didn&#8217;t know about that one, thanks for letting me know! I&#8217;ll look into it and update the tutorial accordingly.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='http://www.taniarascia.com/wordpress-from-scratch-part-two/?replytocom=358#respond' onclick='return addComment.moveForm( "div-comment-358", "358", "respond", "1308" )' aria-label='Reply to Tania'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-381" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://wphebdo.fr/hebdo-ecosysteme-wordpress-44/' rel='external nofollow' class='url'>L’hebdo de l’écosystème WordPress n°44 - WPHebdo</a> 			</div>
</li><!-- #comment-## -->
			</ul>
			<!-- .comment-list -->

			
				
										<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/wordpress-from-scratch-part-two/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="http://www.taniarascia.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8"  aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name</label> <input id="author" name="author" type="text" value="" size="30" /></p>
<p class="comment-form-email"><label for="email">Email</label> <input id="email" name="email" type="text" value="" size="30" aria-describedby="email-notes" /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='1308' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="59c249a71c" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="137"/></p>				</form>
					</div><!-- #respond -->
		
	</div>
	<!-- .comments-area -->

				</main>
	<aside>
</aside>		<footer>
  <div class="container">
    <h1><a href="http://www.taniarascia.com/me">♥ Tania Rascia</a></h1>
  </div>
</footer>
<script type="text/javascript" src="http://www.taniarascia.com/wp-content/cache/minify/000000/M9RPzM4szk0t0Y_PzEvWT8svygUA.js"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var PowerStatsParams = {"ajaxurl":"http:\/\/www.taniarascia.com\/wp-admin\/admin-ajax.php","ci":"YTo0OntzOjEyOiJjb250ZW50X3R5cGUiO3M6NDoicG9zdCI7czo4OiJjYXRlZ29yeSI7czo5OiIyLDYsMTYsMTUiO3M6MTA6ImNvbnRlbnRfaWQiO2k6MTMwODtzOjY6ImF1dGhvciI7czo4OiJoaS10YW5pYSI7fQ==.c5e4d26290c0fd17656c488b999cb23b"};
/* ]]> */
</script>
<script type="text/javascript" src="http://www.taniarascia.com/wp-content/cache/minify/000000/M9QvL9AtyC9PLdItLkksKUbj6hjo5yflJJak6mcV6xcUZRbn6piAlKTmJqWm6OVm5gEA.js"></script>
</body>

  </html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk
Page Caching using disk: enhanced

 Served from: www.taniarascia.com @ 2016-01-26 21:56:47 by W3 Total Cache -->